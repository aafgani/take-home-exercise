@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@model IEnumerable<Todo>
@{
    var dt = new Todo();
}

<partial name="_FormTodo" model=@dt view-data="ViewData" />

<div class="row justify-content-center">
    <div class="col-xl-6 col-lg-8 col-md-8 col-sm-10">
        <table class="table">
            <thead>
                <tr class="table-primary">
                    <th scope="col"></th>
                    <th scope="col">Todo Item</th>
                    @{
                          if (User.IsInRole("Admin")){
                                  <th scope="col">Created By</th>
                             }
                    }
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var t in Model.Where(i => !i.IsCompleted))
                {
                    <tr>
                        <td class="todos-column" scope="row">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value=""id="@t.Id" @(t.IsCompleted?"checked":"!checked")>
                            </div>
                        </td>
                        <td class="todos-column @(User.IsInRole("Admin")? "col-lg-6" : "col-lg-8")">@t.ItemName</td>
                        @{
                             if (User.IsInRole("Admin")){
                                 <td class="todos-column">@t.CreatedBy</td>
                             }
                        }
                        <td class="buttons-column">
                            <span></span>
                            <button class="btn" onClick="deleteTodo('@t.Id')" ><i class="fa fa-trash"></i> </button>
                            <button class="btn"  onClick="populateForm('@t.Id')"><i class="fa fa-edit"></i> </button>
                        </td>

                    </tr>
                }
                <br/>
            </tbody>
        </table>
    </div>
    
</div>
<div class="row justify-content-center">
    <div class="col-xl-6 col-lg-8 col-md-8 col-sm-10">
        <table class="table">
            <thead>
                <tr class="table-primary">
                    <th scope="col"></th>
                    <th scope="col">Todo Item (Completed)</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var t in Model.Where(i => i.IsCompleted))
                {
                    <tr>
                        <td class="todos-column" scope="row">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value=""  @(t.IsCompleted?"checked":"!checked")>
                            </div>
                        </td>
                        <td class="todos-column col-lg-10">@t.ItemName</td>
                        <td class="buttons-column">
                            <span></span>
                            
                        </td>

                    </tr>
                }
                <br/>
            </tbody>
        </table>
    </div>
</div>
